/* ========== Theme (auto dark) ========== */
:root{
  --bg:#0d2522;
  --surface:#0f2e2a;
  --surface-2:#0b201d;
  --text:#e7f1ef;
  --muted:#a9c0bc;
  --accent:#3dd5b0;
  --chip:#113b35;
  --chip-text:#d7f7ef;
  --card:#0f2f2b;
  --border:#1f4842;
  --shadow:0 8px 24px rgba(0,0,0,.22);
}
@media (prefers-color-scheme: light) {
  :root{
    --bg:#f7faf9;
    --surface:#e9f5f2;
    --surface-2:#f1fbf8;
    --text:#13201d;
    --muted:#405a55;
    --accent:#0e8c73;
    --chip:#dff4ef;
    --chip-text:#0e3028;
    --card:#ffffff;
    --border:#d7e8e3;
    --shadow:0 8px 24px rgba(0,0,0,.08);
  }
}

/* ========== Base ========== */
* { box-sizing:border-box; }
html,body { height:100%; }
body{
  margin:0;
  font-family: "Noto Sans Bengali", system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, sans-serif;
  background:var(--bg);
  color:var(--text);
}

/* accessibility helper */
.sr-only{
  position:absolute!important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
}

/* ========== Topbar ========== */
.topbar{
  display:flex; align-items:center; gap:1rem;
  padding:12px clamp(12px, 3vw, 28px);
  background:var(--surface);
  position:sticky; top:0; z-index:10; border-bottom:1px solid var(--border);
}
.brand{ margin:0; font-size:1.1rem; letter-spacing:.2px; }
.controls{ margin-left:auto; display:flex; align-items:center; gap:.75rem; }
.select-wrap{ display:flex; align-items:center; gap:.5rem; background:var(--surface-2); padding:.4rem .6rem; border-radius:10px; border:1px solid var(--border); }
.select-label{ font-size:.9rem; color:var(--muted); }
select{
  appearance:none; -webkit-appearance:none;
  background:transparent; color:var(--text); border:0; outline:0; font-size:.95rem; padding-right:18px; cursor:pointer;
}
.btn{
  background:var(--accent); color:white; border:0; padding:.5rem .8rem; border-radius:10px; cursor:pointer; font-weight:600;
}
.btn:focus-visible{ outline:3px solid #fff3; outline-offset:2px; }

/* ========== App layout ========== */
.app{ padding:24px clamp(12px, 3vw, 28px) 36px; }

.verse{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:16px;
  box-shadow:var(--shadow);
  margin-block:18px 28px;
  padding:18px 16px 8px;
}

/* Verse header (Arabic + Bangla) */
.ayah-ar{
  font-family:"Amiri", serif;
  font-size:clamp(1.6rem, 3.6vw, 2.6rem);
  line-height:1.9;
  margin:0;
  text-align:right;
  direction:rtl;
}
.ayah-bn{
  margin:6px 0 12px;
  color:var(--muted);
  font-size:clamp(.95rem, 1.8vw, 1.05rem);
}

/* Horizontal scroller for word cards */
.word-strip{
  display:flex;
  gap:12px;
  overflow-x:auto;
  padding:10px 4px 12px;
  scroll-snap-type:x mandatory;
}
.word-strip::-webkit-scrollbar{ height:10px; }
.word-strip::-webkit-scrollbar-thumb{ background:var(--border); border-radius:6px; }
.word-card{
  scroll-snap-align:start;
  min-width:260px;      /* grows if content needs; compact by default */
  max-width:360px;
  background:var(--surface-2);
  border:1px solid var(--border);
  border-radius:14px;
  padding:12px 12px 10px;
}

/* Card header – single row: word + meaning (Bangla) */
.card-head{
  display:flex; align-items:flex-end; justify-content:space-between; gap:10px;
  border-bottom:1px dashed var(--border);
  padding-bottom:8px; margin-bottom:10px;
}
.arabic{
  font-family:"Amiri", serif; direction:rtl; text-align:right;
  font-size:clamp(1.35rem, 3vw, 1.8rem); line-height:1.2;
}
.meaning{
  font-weight:700; color:var(--chip-text);
  background:var(--chip); border:1px solid var(--border);
  padding:.18rem .5rem; border-radius:999px; white-space:nowrap;
}

/* Inline chips line (translit • root • pattern) */
.meta{
  display:flex; flex-wrap:wrap; gap:6px; margin:4px 0 2px;
}
.chip{
  font-size:.83rem; color:var(--muted);
  background:transparent; border:1px dashed var(--border);
  padding:.15rem .45rem; border-radius:999px;
}

/* Derived list */
.derived{
  margin-top:10px; display:grid; gap:8px;
}
.der-item{
  display:grid; grid-template-columns: 1fr auto; gap:8px;
  align-items:center;
  background:var(--surface);
  border:1px solid var(--border);
  border-radius:10px;
  padding:8px 10px;
}
.der-row-top{
  display:flex; align-items:center; justify-content:space-between; gap:8px;
}
.der-ar{ font-family:"Amiri", serif; direction:rtl; text-align:right; font-size:1.2rem; }
.der-mean{ font-size:.95rem; }
.der-chips{ display:flex; gap:6px; flex-wrap:wrap; }

kbd.short{ font:600 .82rem/1 "Noto Sans Bengali"; padding:.15rem .4rem; border:1px solid var(--border); border-radius:6px; background:var(--surface-2); color:var(--muted); }

/* Focus ring for keyboard users */
.word-card:focus-within,
.word-card:focus-visible{ outline:3px solid #ffffff33; outline-offset:3px; }

/* Responsive tweaks */
@media (max-width: 720px){
  .word-card{ min-width:220px; }
  .brand{ font-size:1rem; }
}
