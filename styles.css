/* ---------- Theme ---------- */
:root{
  --bg-main:#1c1c1c;
  --bg-tile:#2c2c2e;
  --bg-panel:rgba(255,255,255,.06);
  --text-main:#f2f4f8;
  --text-secondary:#a9a9a9;
  --accent:#ffc857;
  --shadow:0 6px 16px rgba(0,0,0,.35);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;background:var(--bg-main);color:var(--text-main);
  font-family:Roboto,Arial,sans-serif;
}
.app-header{
  display:flex;align-items:center;justify-content:space-between;
  padding:16px 24px;background:rgba(255,255,255,.03)
}
body.rtl .app-header{flex-direction:row-reverse}
.app-title{font-size:24px;font-weight:700;margin:0}
.header-controls{display:flex;align-items:center;gap:16px}
.toggle-btn{
  padding:6px 12px;background:var(--bg-tile);color:var(--text-main);
  border:none;border-radius:8px;cursor:pointer
}
.surah-label{color:var(--text-secondary);font-size:14px}
#surahSelect{
  margin-inline-start:6px;padding:6px 10px;background:var(--bg-tile);
  color:var(--text-main);border:none;border-radius:8px
}

/* ---------- Surah / Ayah header ---------- */
.surah-title{
  font-family:"Tajawal","Noto Sans Arabic",sans-serif;
  font-size:48px;text-align:center;margin:24px 0 8px
}
.surah-title-bn{font-size:18px;text-align:center;color:var(--text-secondary);margin:0 0 14px}
.ayah-box{text-align:center;margin-bottom:14px}
.ayah-number{
  display:inline-block;background:var(--accent);color:#000;
  padding:4px 12px;border-radius:20px;font-weight:700;margin-bottom:10px
}
.ayah-ar{
  font-family:"Tajawal","Noto Sans Arabic",sans-serif;
  font-size:32px;line-height:1.8;direction:rtl;margin:8px auto
}
.ayah-bn{font-size:18px;color:var(--text-secondary);margin:0}

/* ---------- Carousel ---------- */
.carousel{
  position:relative;display:flex;align-items:center;gap:8px;
  padding:8px 12px 28px
}
.cards-viewport{
  overflow:hidden;flex:1
}
.cards-row{
  display:flex;gap:16px;scroll-snap-type:x mandatory;overflow-x:auto;
  padding:0 6px
}
.cards-row::-webkit-scrollbar{height:8px}
.cards-row::-webkit-scrollbar-thumb{background:#3a3a3c;border-radius:8px}
body.rtl .cards-row{direction:rtl;flex-direction:row-reverse}

/* Nav buttons */
.nav-btn{
  background:var(--bg-tile);color:var(--text-main);border:none;
  width:40px;height:40px;border-radius:50%;cursor:pointer;
  display:grid;place-content:center;font-size:24px;user-select:none;
  box-shadow:var(--shadow)
}
.nav-btn:disabled{opacity:.35;cursor:not-allowed}

/* ---------- Cards ---------- */
.word-card{
  min-width:260px;max-width:300px;background:var(--bg-tile);
  border-radius:14px;box-shadow:var(--shadow);scroll-snap-align:start;
  padding:14px;display:flex;flex-direction:column;gap:12px
}
.card-header{
  font-size:12px;color:var(--accent);font-weight:800;letter-spacing:.5px
}

/* MAIN panel (left-justified inside) */
.main-panel{
  background:var(--bg-panel);border-radius:10px;padding:12px
}
.card-main-ar{
  font-family:"Tajawal","Noto Sans Arabic",sans-serif;
  font-size:28px;font-weight:800;direction:rtl;text-align:right;margin:0 0 6px
}
.card-bn{font-size:16px;margin:0 0 8px}
.card-meta{display:flex;flex-wrap:wrap;gap:6px}
.meta-chip{
  background:rgba(255,255,255,.08);border-radius:12px;padding:4px 10px;
  font-size:14px;color:var(--text-secondary)
}

/* Derived toggle chip */
.derived-toggle{
  display:inline-flex;align-items:center;gap:6px;
  background:rgba(255,255,255,.1);color:var(--text-main);
  border:none;border-radius:12px;padding:6px 10px;font-size:14px;cursor:pointer
}
.derived-toggle .plus{font-weight:900;transform:translateY(-1px)}

/* Derived Grid (collapsed by default) */
.derived-wrap{
  background:var(--bg-panel);border-radius:10px;padding:10px 10px 4px;
  transition:max-height .3s ease, opacity .25s ease;overflow:hidden;
  max-height:0;opacity:.0
}
.derived-wrap.open{max-height:400px;opacity:1}
.derived-list{
  display:grid;grid-template-columns:1fr 1fr;gap:8px
}
.derived-item{
  background:rgba(255,255,255,.06);padding:8px;border-radius:8px;text-align:center
}
.derived-item .ar{
  font-family:"Tajawal","Noto Sans Arabic",sans-serif;direction:rtl;
  display:block;font-size:22px;line-height:1.5
}
.derived-item .bn{font-size:14px;color:var(--text-secondary);display:block;margin-top:2px}
.derived-item .pattern{font-size:13px;color:var(--text-secondary)}
